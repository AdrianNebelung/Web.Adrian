
<!DOCTYPE html>
<html lang="nb">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesheet.css">
    <title>Forside - Datasp√¶ll</title>
</head>
<body>
            <div id = "page-container">
            <header id="global-header">
            <div class="header-container">

            <div class="dropdown">
            <button class="dropbtn">Meny ‚ñæ</button>
            <div class="dropdown-content">
            <a href="index.html">Hjem</a>

            <div class="dropdown-sub">
                <a href class="sub-btn">Sjangere ‚ñ∏</a>
            <div class="sub-menu">
                <a href="action.html">Action</a>
                <a href="nintendo.html">Nintendo</a>
                <a href="rollespill.html">Rollespill</a>
                <a href="fantasy.html">Fantasy</a>
            </div>
            </div>
            </div>
            </div>
            <div id="produkter-container">
                <a href="produkter.html" id="produk">Produkter</p>
            </div>
            <div id ="chart-container">
                <a id="chart-icon">
                    <span id="chart-vogn">üõí Handlevogn:</span> <span id ="cart-count"> 0</span>
                </a>
                <div id="cart-popup" class="cart-popup">
                <h3>Din handlekurv</h3>
                <ul id ="cart-items"></ul>
                <p><strong>Total:</strong> <span id="cart-total">0</span> kr</p> 
                <button id ="close-cart">Lukk</button>
            </div>
            </div>
    </header>
    <section class="deal-section">
        <h2>Crazy gaming deals</h2>
        <br>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
        <a href ="offers.html">Se tilbud</a> 
    </section>
    <main>
        <section id = "section-top">
            <h2>Popul√¶re Sp√¶ll</h2>
            <article>
                <img src="https://image.api.playstation.com/cdn/UP1004/CUSA03041_00/Hpl5MtwQgOVF9vJqlfui6SDB5Jl4oBSq.png" alt ="Red Dead Redemption 2">
                <h3>Red Dead Redemption 2</h3>
                <p><em>Red Dead Redemption 2, det storsl√•tte, kritikerroste √•pen-verden-spillet fra Rockstar Games, og ikke minst det h√∏yest vurderte av alle spill for seneste generasjon med konsoller, er n√• forbedret for PC med nytt Story Mode-innhold, visuelle oppgraderinger og mer.</em></p>
                <p>kr 499,-</p>
                <a href="RDR2.html">Se produkt</a>
                <button class="add-to-cart" data-name="Red Dead Redemtion 2" data-price="499">Legg til i handlekurven</button>
            </article>
            <article id="article-two">
                <img src="https://upload.wikimedia.org/wikipedia/en/a/a3/Call_of_Duty_Black_Ops_7_Key_Art.png" alt ="Call Of Duty: Black Ops 7" class="Black-Ops-7">
                <h3>Call Of Duty: Black Ops 7</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
                <p>kr 499,-</p>
                <a href="product.html">Se produkt</a>
                <button class="add-to-cart" data-name="Call Of Duty Balck Ops 7" data-price = "499">Legg til i handlekurven</button>
            </article>
            <article id="article-three">
                <img src="https://picsum.photos/id/237/200/300" alt ="Red Dead Redemption 2">
                <h3>Red Dead Redemption 2</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
                <p>kr 499,-</p>
                <a href="">Se produkt</a>
            </article>
            <article id="article-four">
                <img src="https://picsum.photos/id/237/200/300" alt ="Red Dead Redemption 2">
                <h3>Red Dead Redemption 2</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
                <p>kr 499,-</p>
                <a href="">Se produkt</a>
            </article>
        </section>
        <br>
        <br>
        <section class="section-mid">
            <h2><a href="produkter.html">Produkter</a></h2>
            <p>Her finner du hva slags spill vi selger. Trykk p√• produkter for √• se v√•re spill.</p>
            <h2 id="sjangere">Sjangere</h2>
            <p>Her finner du forskjellige kategorier vi har innenfor gaming.</p>
            
            <article>
                <h3><a href="action.html">Action</a></h3>
            </article>
    
            <article>
                <h3><a href="nintendo.html">Nintendo</a></h3>
            </article>
            
            <article>
                <h3><a href="rollespill.html">Rollespill</a></h3>
            </article>
            
            <article>
                <h3><a href="fantasy.html">Fantasy</a></h3>
            </article>
        </section>
    </main>
    <aside class="aside-one">
        <h4 id="meld">Meld deg inn i sp√¶llklubben</h4>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elitt</p>
        <form>
            <label>
                Epost:
            <input type="email" placeholder="ola.nordman@hiof.no...."/>
            </label>    
            
            <input type="submit" value="Meld deg p√•"/>

            <label for="age-validation">Bekreft alder over 18</label>
            <input type="checkbox" id="age-validation"/>
        </form>
    </aside>
    <footer id="kontakt">
        <p class="oss">Kontakt oss</p>
        <form action="mailto:acnebelu@hiof.no" method="POST" enctype="text/plain">
            <label  id="navn"><strong>Navn:</strong></label>
            <textarea class="navn-box" placeholder="Skriv her..." style="resize: none;"></textarea>

            <label id ="email"><strong>Epost:</strong></label>
            <textarea class="email-box" placeholder="Skriv her..." style="resize: none;"></textarea>

            <label id ="tema"><strong>Tema:</strong></label>
            <textarea class="tema-box" placeholder="Skriv her..." style="resize: none;"></textarea>

            <label id ="melding"><strong>Melding:</strong></label>
            <textarea class="melding-box" placeholder="Skriv her..." style="resize: none;"></textarea>

            <button type="submit" class="btn" a href="mailto:acnebelu@hiof.no">Send</button>
        </form>
    </footer>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
    // -----------------------------
    // Meny-funksjoner
    // -----------------------------
    const dropBtn = document.querySelector('.dropbtn');
    const dropdownContent = document.querySelector('.dropdown-content');
    const subBtn = document.querySelector('.sub-btn');
    const subMenu = document.querySelector('.sub-menu');

    dropBtn.addEventListener('click', (e) => {
        e.stopPropagation(); 
        dropdownContent.classList.toggle('show');
    });

    subBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        subMenu.classList.toggle('show');
    });

    window.addEventListener('click', () => {
        dropdownContent.classList.remove('show');
        subMenu.classList.remove('show');
    });

    // -----------------------------
    // Handlekurv-funksjonalitet
    // -----------------------------
    let cartCount = 0;
    let cart = [];
    const cartCountElement = document.getElementById('cart-count');
    const cartItemsElement = document.getElementById('cart-items');
    const cartTotalElement = document.getElementById('cart-total');
    const cartPopup = document.getElementById('cart-popup');
    const cartIcon = document.getElementById('chart-icon');
    const closeCartBtn = document.getElementById('close-cart');

    const addToCartButtons = document.querySelectorAll('.add-to-cart');

    addToCartButtons.forEach(button => {
        button.addEventListener('click', () => {
            const name = button.dataset.name;
            const price = parseInt(button.dataset.price);

            cart.push({ name, price });
            cartCount++;
            cartCountElement.textContent = cartCount;

            updateCart();
        });
    });

    function updateCart() {
        cartItemsElement.innerHTML = "";
        let total = 0;

        cart.forEach(item => {
            const li = document.createElement('li');
            li.textContent = `${item.name} - ${item.price} kr`;
            cartItemsElement.appendChild(li);
            total += item.price;
        });

        cartTotalElement.textContent = total;
    }
    function updateCart() {
    cartItemsElement.innerHTML = "";
    let total = 0;

    cart.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `${item.name} - ${item.price} kr`;

        // Lag en fjern-knapp
        const removeBtn = document.createElement('button');
        removeBtn.textContent = "Fjern";
        removeBtn.style.marginLeft = "10px";
        removeBtn.addEventListener('click', () => {
            cart.splice(index, 1);  // fjern produktet fra array
            cartCount--;             // reduser antallet
            cartCountElement.textContent = cartCount;
            updateCart();            // oppdater popup
        });

        li.appendChild(removeBtn);
        cartItemsElement.appendChild(li);
        total += item.price;
    });

    cartTotalElement.textContent = total;
}


    cartIcon.addEventListener('click', (e) => {
        e.stopPropagation();
        const rect = cartIcon.getBoundingClientRect();
        cartPopup.style.top = `${rect.bottom + 5}px`; // 5px space below
        cartPopup.style.right = `${window.innerWidth - rect.right}px`;
        cartPopup.style.display = cartPopup.style.display === "block" ? "none" : "block";
    });

    closeCartBtn.addEventListener('click', () => {
        cartPopup.style.display = "none";
    });

    window.addEventListener('click', (e) => {
        if (!cartPopup.contains(e.target) && e.target !== cartIcon) {
            cartPopup.style.display = "none";
        }
    });
});
</script>

</body>
</html>
